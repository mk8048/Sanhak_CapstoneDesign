<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>아이디/비밀번호 찾기</title>
    <style>
        .form-container {
            display: flex;
            justify-content: center;
            gap: 40px;
        }
        .section {
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 300px;
        }
    </style>
</head>
<body>

<h1 align="center">아이디/비밀번호 찾기</h1>

<div class="form-container">

    <div class="section">
        <form th:action="@{/user/find-id}" method="POST">
            <h3 align="center">아이디 찾기</h3>
            <table align="center">
                <tr>
                    <td align="right">이름&nbsp;</td>
                    <td><input type="text" name="name" required placeholder="이름 입력" th:value="${findIdDto?.name}"/></td>
                </tr>

                <tr>
                    <td align="right">이메일&nbsp;</td>
                    <td><input type="email" name="email" required placeholder="이메일 입력" th:value="${findIdDto?.email}"/></td>
                </tr>

                <tr>
                    <td colspan="2" align="center" height="50">
                        <input type="submit" value="아이디 찾기"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <div class="section">
        <form th:action="@{/user/find-ps}" method="POST">
            <h3 align="center">비밀번호 찾기/재설정</h3>
            <table align="center">
                <tr>
                    <td align="right">아이디&nbsp;</td>
                    <td><input type="text" name="id" required placeholder="아이디 입력" th:value="${findPsDto?.id}"/></td>
                </tr>

                <tr>
                    <td align="right">이름&nbsp;</td>
                    <td><input type="text" name="name" required placeholder="이름 입력" th:value="${findPsDto?.name}"/></td>
                </tr>

                <tr>
                    <td align="right">이메일&nbsp;</td>
                    <td><input type="email" name="email" required placeholder="이메일 입력" th:value="${findPsDto?.email}"/></td>
                </tr>

                <tr>
                    <td colspan="2" align="center" height="50">
                        <input type="submit" value="비밀번호 재설정"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>

</div>

<p align="center" style="margin-top: 30px;">
    <a th:href="@{/user/login}">
        <button type="button">로그인 화면으로 돌아가기</button>
    </a>
</p>

<div th:if="${findErrorResult}"
     id="find-toast"
     th:styleappend="${isSuccess == true ?
     'background-color: rgba(40, 167, 69, 0.9);' : 'background-color: rgba(220, 53, 69, 0.9);'}"
     style="
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        padding: 12px 25px;
        border-radius: 8px;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        font-weight: bold;
    ">
    <span th:text="${findErrorResult}">[찾기 결과 메시지]</span>
</div>

<script th:if="${findErrorResult}">
    document.addEventListener('DOMContentLoaded', () => {
        const toastElement = document.getElementById('find-toast');

        setTimeout(() => {
            toastElement.style.opacity = '1';
        }, 100);

        setTimeout(() => {
            toastElement.style.opacity = '0';
        }, 3500);
    });
</script>

</body>
</html>