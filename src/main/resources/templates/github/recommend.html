<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>오픈소스 프로젝트 추천</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="text-center mb-5">
        <h1 class="fw-bold">💡 관련 오픈소스 프로젝트 추천</h1>
        <p class="text-muted">진행 중인 프로젝트와 유사한 우수 사례를 참고하여 퀄리티를 높여보세요.</p>
    </div>

    <div class="row justify-content-center mb-5">
        <div class="col-md-8">
            <form action="/github/commits/recommend" method="get" class="input-group input-group-lg shadow-sm">
                <input type="text" name="keyword" class="form-control"
                       th:value="${keyword}" placeholder="검색 키워드 (예: Spring Boot LMS, Todo List)">
                <button class="btn btn-primary px-4" type="submit">
                    <i class="bi bi-search"></i> 검색
                </button>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-12" th:if="${#lists.isEmpty(repos)}">
            <div class="alert alert-warning text-center">
                검색 결과가 없습니다. 키워드를 변경해보세요.
            </div>
        </div>

        <div class="col-md-6 mb-4" th:each="repo : ${repos}">
            <div class="card h-100 shadow-sm border-0 hover-shadow">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title fw-bold text-primary">
                            <i class="bi bi-journal-bookmark-fill me-2"></i>
                            <span th:text="${repo.name}">Project Name</span>
                        </h5>
                        <span class="badge bg-warning text-dark">
                            <i class="bi bi-star-fill"></i>
                            <span th:text="${repo.stargazers_count}">100</span>
                        </span>
                    </div>

                    <h6 class="card-subtitle mb-3 text-muted" th:text="${repo.full_name}">owner/repo</h6>

                    <p class="card-text text-secondary"
                       th:text="${#strings.abbreviate(repo.description, 100)} ?: '설명이 없습니다.'">
                        프로젝트 설명...
                    </p>

                    <div class="mt-auto d-flex justify-content-between align-items-center">
                        <span class="badge bg-secondary" th:if="${repo.language}" th:text="${repo.language}">Java</span>
                        <a th:href="${repo.html_url}" target="_blank" class="btn btn-sm btn-outline-primary">
                            GitHub 바로가기 <i class="bi bi-box-arrow-up-right ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>